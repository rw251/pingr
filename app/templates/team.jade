include mixins/thumbs

if noSuggestions
  p There are no improvement action suggestions from PINGR for this indicator.
else 
  table#team-suggested-actions-table.table
    thead
      tr
        th
        th(style='width: 105px')
    tbody
      - var alt = false
      each suggestion, index in suggestions
        if index === 3 && !visible
          tr
            td
              a.show-more-than-3
                | Show more than 3 actions 
                i.fa.fa-caret-down
        tr.suggestion(data-id=suggestion.actionId, class=alt ? 'alternate-row': '', style=(index<3 || visible) ? '' : 'display:none' )
          td
            span(data-subsection=suggestion.subsection)
              strong.black.f20!= suggestion.actionText
              if suggestion.supportingText
                br
                a.show-more(data-id=suggestion.actionId)
                  | Show more 
                  i.fa.fa-caret-down
          td
            +thumbs(suggestion)
        if suggestion.supportingText
          tr.show-more-row(data-id=suggestion.actionId, class=alt ? 'alternate-row': '')
            td(colspan='2')
              != suggestion.supportingText
              |Relevant indicators:
              ul
                each indicator in suggestion.indicatorList
                  li
                    a(href='/#indicators/'+indicator.id.replace(/\./g,"/"))= indicator.text
              small= "Points: " + suggestion.pointsPerAction.toFixed(1)
              br
              a.show-more(data-id=suggestion.actionId)
                | Show less 
                i.fa.fa-caret-up
        - alt = !alt
include mixins/personal-action-plan
